/*
DayPilot Lite
Copyright (c) 2005 - 2025 Annpoint s.r.o.
https://www.daypilot.org/
Licensed under Apache Software License 2.0
Version: 2025.4.757-lite
*/
"use strict";!function(DayPilot){"undefined"==typeof DayPilot.DatePicker&&(DayPilot.DatePicker=function(e){this.v="${v}";var t="navigator_"+(new Date).getTime(),n=this;this.onShow=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.prepare=function(){if(this.locale="en-us",this.target=null,this.targetAlignment="left",this.resetTarget=!0,this.pattern=this.a.locale().datePattern,this.theme="navigator_default",this.patterns=[],this.zIndex=null,this.showToday=!0,this.todayText="Today",this.weekStarts="Auto",e)for(var t in e)this[t]=e[t]},this.init=function(){this.date=new DayPilot.Date(this.date);var e=this.b();this.resetTarget&&!e?this.c(this.date):!this.resetTarget&&e&&(n.date=e);var t=this.d();return t&&t.addEventListener("input",function(){n.date=n.b(),n.date&&n.navigator.select(n.date,{dontNotify:!0})}),this},this.close=function(){document.removeEventListener("mousedown",n.close),document.removeEventListener("wheel",n.close),window.removeEventListener("resize",n.close),n.e&&(n.e=!1,n.navigator&&n.navigator.dispose(),n.div.innerHTML="",n.div&&n.div.parentNode===document.body&&document.body.removeChild(n.div))},this.f=function(e){this.date=new DayPilot.Date(e),this.c(this.date)},this.select=function(e){var t={};t.date=new DayPilot.Date(e),t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onTimeRangeSelect&&(n.onTimeRangeSelect(t),t.preventDefault.value)||(this.f(e),"function"==typeof n.onTimeRangeSelected&&n.onTimeRangeSelected(t))},this.b=function(){var e=this.d();if(!e)return this.date;var t=null;if(t="INPUT"===e.tagName?e.value:e.innerText,!t)return null;for(var i=DayPilot.Date.parse(t,n.pattern),a=0;a<n.patterns.length;a++){if(i)return i;i=DayPilot.Date.parse(t,n.patterns[a])}return i},this.c=function(e){var t=this.d();if(t){var i=e.toString(n.pattern,n.locale);"INPUT"===t.tagName?t.value=i:t.innerHTML=i}},this.a={},this.a.locale=function(){return DayPilot.Locale.find(n.locale)},this.d=function(){var e=this.target;return e&&e.nodeType&&1===e.nodeType?e:document.getElementById(e)},Object.defineProperty(this,"visible",{get:function(){return n.e}}),this.show=function(){if(!this.e){document.addEventListener("mousedown",n.close),document.addEventListener("wheel",n.close),window.addEventListener("resize",n.close);var e=this.d(),i=new DayPilot.Navigator(t);i.api=2,i.cssOnly=!0,i.theme=n.theme,i.weekStarts="Auto",i.locale=n.locale,i.showToday=n.showToday,i.todayText=n.todayText,i.weekStarts=n.weekStarts,i.onTodayClick=function(e){i.onTimeRangeSelected({start:DayPilot.Date.today()}),e.preventDefault()},i.onTimeRangeSelected=function(e){n.date=e.start;var t=e.start.addTime(i.g),a=t.toString(n.pattern,n.locale),o={};o.start=t,o.date=t,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onTimeRangeSelect&&(n.onTimeRangeSelect(o),o.preventDefault.value)||(n.c(a),n.close(),"function"==typeof n.onTimeRangeSelected&&n.onTimeRangeSelected(o))},this.navigator=i;var a={x:0,y:0,w:0,h:0};e&&(a=DayPilot.abs(e));var o=a.h,s=n.targetAlignment,r=document.createElement("div");r.style.position="absolute","left"===s&&(r.style.left=a.x+"px"),r.style.top=a.y+o+"px",n.zIndex&&(r.style.zIndex=n.zIndex);var d=document.createElement("div");d.id=t,r.appendChild(d),r.addEventListener("mousedown",function(e){e.stopPropagation()}),document.body.appendChild(r),this.div=r;var l=n.b()||n.date;if(i.startDate=l,i.g=l.getTimePart(),i.selectionDay=l.getDatePart(),i.init(),"right"===s){var h=a.x+a.w-i.nav.top.offsetWidth;r.style.left=h+"px"}if(this.e=!0,this.onShow){var c={};this.onShow(c)}}},this.prepare(),this.init()})}(DayPilot);